<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title th:text="${post.title}">Chi tiáº¿t bÃ i viáº¿t</title>
    <th:block th:replace="base :: bootstrap"></th:block>
    <script th:src="@{/js/main.js}" defer></script>
</head>
<body>
    <div th:replace="base :: header"></div>

    <main class="container mt-4">
        <h2 th:text="${post.title}">TiÃªu Ä‘á»</h2>
        <p class="text-muted" th:text="${#dates.format(post.createdAt, 'dd-MM-yyyy HH:mm')}">NgÃ y Ä‘Äƒng</p>
        <div class="mb-3">
            <p th:text="${post.content}">Ná»™i dung bÃ i viáº¿t</p>
        </div>

        <div class="mb-3">
            <a class="btn btn-primary" th:href="@{'/forum/edit/' + ${post.id}}">âœï¸ Chá»‰nh sá»­a</a>
            <button class="btn btn-danger" 
                    th:onclick="'deletePost(\'' + @{/api/posts/delete/{id}(id=${post.id})} + '\')'">
                ğŸ—‘ï¸ XÃ³a
            </button>
            <a class="btn btn-secondary" th:href="@{/forum}">ğŸ”™ Quay láº¡i danh sÃ¡ch</a>
        </div>

        <hr/>
        <h4>ğŸ’¬ BÃ¬nh luáº­n</h4>

        <ul class="list-group mb-4">
            <li class="list-group-item" th:each="comment : ${post.forumCommentSet}">
                <p th:text="${comment.content}" class="mb-1">Ná»™i dung bÃ¬nh luáº­n</p>
                <div>
                    <a class="btn btn-sm btn-outline-primary" th:href="@{'/forum/comment/edit/' + ${comment.id}}">âœï¸ Sá»­a</a>
                    <button class="btn btn-outline-danger btn-sm" th:onclick="'deleteComment(\'' + @{/api/comments/{id}(id=${comment.id})} + '\')'">
                        ğŸ—‘ï¸ XÃ³a
                    </button>

                </div>
            </li>
        </ul>

        <h5>â• ThÃªm bÃ¬nh luáº­n</h5>
        <form th:action="@{'/forum/' + ${post.id} + '/comment'}" method="post" th:object="${newComment}">
            <div class="mb-3">
                <textarea th:field="*{content}" class="form-control" rows="4" placeholder="Nháº­p bÃ¬nh luáº­n..." required></textarea>
            </div>
            <button type="submit" class="btn btn-success">Gá»­i bÃ¬nh luáº­n</button>
        </form>
    </main>

    <div th:replace="base :: footer"></div>
</body>
</html>


